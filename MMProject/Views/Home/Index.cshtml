@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://learn.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>
</div>


<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = google.visualization.arrayToDataTable([
            ['รายจ่าย', 'บาท'],
            ['เงินเดือนพนักงาน', 88780.24],
            ['ค่าผ่อนรถ', 79080.7],
            ['ค่าน้ำมัน', 77623.1],
        ]);

        var total = 0;
        for (var i = 0; i < data.getNumberOfRows(); i++) {
            total += data.getValue(i, 1); // คอลัมน์ที่ 1 เป็นค่าตัวเลข
        }

        document.getElementById('total').innerText = 'Total: ' + total.toLocaleString() + ' บาท';

        var options = {
            title: 'ค่าใช้จ่าย',
            pieSliceText: 'value', // แสดงตัวเลขในแต่ละ Slice
            legend: { position: 'labeled' } // แสดงชื่อข้างนอก Slice
        };
        var chart = new google.visualization.PieChart(document.getElementById('piechart'));
        chart.draw(data, options);
    }
</script>
<div id="piechart" style="width: 900px; height: 500px;"></div>
<div id="total" style="font-size: 20px; margin-left: 20px; float: left; line-height: 400px; margin-top:-100px;"></div>